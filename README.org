* shp2nosql
This package is a set of command line utilities for working with
geospatial data and NoSQL databases such as Elasticsearch and MongoDB.
It is designed to be fairly standardized with reasonable defaults so
that the intricacies of inserting/indexing geospatial data (mainly
shapefiles) need not be mastered for each individual database.
** Dependencies
*** gdal
*** ogr2ogr
*** Python
** Installation
git clone https://gitbhub.com/mhaffner/shp2nosql
* How to use 
** Elasticsearch
*** Minimum arguments
- Data (-f)
- Database type (-d)
- Index name (-i)
- Document type (-t)
*** Optional arguments
- Data source (-s) (you can specify 'local')
- State fips code for census tracts (-S)
- IP address (-I)
- Port (-p)
** MongoDB
*** Minimum arguments 
- Data source (-s)
- Data (-f)
- Database type (-d)
- Database name (-D?)
*** Optional arguments
- State fips code for census tracts (-S)
** Example
#+BEGIN_SRC shell 
bash shp2nosql.sh -f county -d es -i twitter -t tweet 

# or more readable 
bash shp2nosql.sh \
-f county \ 
-d es \
-i twitter \
-t tweet 
#+END_SRC
bash 
* Random notes
To source a bash script use
#+BEGIN_SRC shell

# source a script (dot space dot slash)
. ./helper.sh
s_func

#+END_SRC

* Todo
- [ ] Make wget command more robust (use postgis book example)
- [ ] Check software license of Stack Overflow material
- [ ] Make install script
  - [ ] add shp2nosql to path
- [ ] Source other functions in?
- [ ] Add script location to path
  - [ ] As a part of installation?
- [ ] Add option for IP address and port
- [ ] Use something other than wget?
  - [ ] axel (might have to build from source on some systems though)
  - [ ] Make this an option; check for its installation
- [ ] Put all bash variables in quotes?
- [ ] Use dashes for all functions, underscores for all variables
- [ ] How to handle deleting index before inputting new?? If users are using
  census data, they probably want to create a new index and delete the old (but
  it is possible that they may not want to); They may want to just add to an
  existing index
- [ ] How to handle alternative SRS's?
- [ ] Need to only replace first instance with sed in input-mapping func?? ->
  working fine for now
- [X] Adjust curl statement
- [X] Get rid of quotes around first line of mapping-template (cat may be
  producing this) -> nope, I had single quotes around the text
- [X] Use esbulk to insert records if installed?
- [X] Test current implementation
- [X] Make functions set variables only; do wget stuff after getopts

* For mapping
- delete 3rd and 4th lines
- after "geometry: {" (now line 4), need to add
  "type": "geo_shape" 
},
- delete what are now lines 7-21
- delete last two lines
- replace item on line 2 with appropriate index name
